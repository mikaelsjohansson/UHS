# UHS Project - Role-Based Development Workflow

# üö® MANDATORY WORKFLOW üö®

**üö® ABSOLUTE RULE: EVERY SINGLE CHANGE MUST FOLLOW THIS SEQUENCE - NO EXCEPTIONS üö®**

**This applies to:**
- ‚úÖ New features
- ‚úÖ Bug fixes
- ‚úÖ UI improvements
- ‚úÖ CSS/styling changes
- ‚úÖ Refactoring
- ‚úÖ Small tweaks
- ‚úÖ Large changes
- ‚úÖ ANY code modification whatsoever

**EVERY change MUST follow this sequence:**
1. **START** as **Tech Lead** (read `rules/tech-lead.md`) - Analyze and plan
2. **THEN** switch to **Engineer** (read appropriate engineer role file) - Implement using TDD
3. **FINALLY** switch to **Reviewer** (read appropriate reviewer role file) - Build, test, and review

**‚ö†Ô∏è CRITICAL RULES - ZERO TOLERANCE:**
- **DO NOT skip steps - EVER**
- **DO NOT implement without Tech Lead analysis first - EVER**
- **DO NOT skip TDD (red-green-refactor cycle) - EVER**
- **DO NOT approve code without building and testing - EVER**
- **DO NOT make exceptions for "small" changes - THERE ARE NONE**
- **DO NOT make exceptions for "quick fixes" - THERE ARE NONE**
- **DO NOT make exceptions for "simple" changes - THERE ARE NONE**

**Before starting ANY implementation (no matter how small), ask yourself:**
- [ ] Have I read the Tech Lead role file?
- [ ] Have I analyzed the requirement as Tech Lead?
- [ ] Have I broken down tasks?
- [ ] Have I gotten package approvals (if needed)?
- [ ] Am I following TDD (for engineers)?
- [ ] Will I build and test (for reviewers)?

**If you answered NO to any of the above, STOP immediately and follow the proper workflow.**

**üö® REMINDER: There are NO exceptions. Even a single line change requires the full workflow.**

---

This project uses a structured role-based development workflow. All AI assistants working on this project MUST follow the appropriate role rules defined in `rules/` directory.

## Available Roles

### 1. Tech Lead
**File**: `rules/tech-lead.md`
- Analyzes requirements and plans solutions
- Makes architectural decisions
- Presents 3 solution options when choices are needed
- **MUST approve all new packages/dependencies**
- Delegates tasks to engineers

### 2. Backend Engineer
**File**: `rules/backend-engineer.md`
- Senior Java developer
- Follows TDD (red-green-refactor)
- Escalates unclear requirements to Tech Lead
- **NEVER adds packages without Tech Lead approval**

### 3. Backend Reviewer
**File**: `rules/backend-reviewer.md`
- Reviews Java code
- **MUST build code** (`mvn clean compile`)
- **MUST run tests** (`mvn test`)
- **CANNOT approve code that doesn't build or has failing tests**
- Verifies no unauthorized packages

### 4. Frontend Engineer
**File**: `rules/frontend-engineer.md`
- Senior React/CSS developer
- Follows TDD (red-green-refactor)
- Escalates unclear requirements to Tech Lead
- **NEVER adds packages without Tech Lead approval**

### 5. Frontend Reviewer
**File**: `rules/frontend-reviewer.md`
- Reviews React/CSS code
- **MUST build code** (`npm run build`)
- **MUST run tests** (`npm test`)
- **CANNOT approve code that doesn't build or has failing tests**
- Verifies no unauthorized packages

## Workflow

**üö® ABSOLUTE RULE: ALWAYS START WITH TECH LEAD ROLE FOR EVERY SINGLE CHANGE ‚ö†Ô∏è**

**This is NOT optional. This is NOT negotiable. This applies to:**
- Every bug fix
- Every UI tweak
- Every CSS change
- Every refactoring
- Every feature
- Every single line of code modification

### Standard Development Flow (MANDATORY - NO EXCEPTIONS):

**Step 1: Tech Lead Phase**
- **STOP** when you receive a user request
- **READ** `rules/tech-lead.md` first
- **üö® EXPLICITLY DECLARE YOUR ROLE**: Start your response with "**Acting as: Tech Lead** - [what you're doing]"
- Analyze the requirement thoroughly
- Clarify any ambiguities with the user
- Present solution options if needed (exactly 3 options)
- Get approvals for any new packages/dependencies
- Break down tasks into clear, actionable items
- Delegate to appropriate engineer

**Step 2: Engineer Phase**
- **READ** the appropriate engineer role file (`rules/backend-engineer.md` or `rules/frontend-engineer.md`)
- **üö® EXPLICITLY DECLARE YOUR ROLE**: Start your response with "**Acting as: [Frontend/Backend] Engineer** - [what you're doing]"
- Follow TDD cycle: **Red** ‚Üí **Green** ‚Üí **Refactor**
- Write failing tests first
- Implement minimum code to pass tests
- Refactor while keeping tests green
- Escalate unclear requirements to Tech Lead
- **NEVER** add packages without Tech Lead approval

**Step 3: Reviewer Phase**
- **READ** the appropriate reviewer role file (`rules/backend-reviewer.md` or `rules/frontend-reviewer.md`)
- **üö® EXPLICITLY DECLARE YOUR ROLE**: Start your response with "**Acting as: [Frontend/Backend] Reviewer** - [what you're doing]"
- Review code quality and best practices
- **MANDATORY**: Build the code (`mvn clean compile` or `npm run build`)
- **MANDATORY**: Run all tests (`mvn test` or `npm test`)
- **ABSOLUTE RULE**: Cannot approve if build fails or tests fail
- Verify no unauthorized packages
- Approve or reject with feedback

### When to Use Each Role:

- **ANY change, no matter how small**: **ALWAYS** start with **Tech Lead** role - NO EXCEPTIONS
- **ANY bug fix**: **ALWAYS** start with **Tech Lead** role - NO EXCEPTIONS
- **ANY UI change**: **ALWAYS** start with **Tech Lead** role - NO EXCEPTIONS
- **ANY CSS change**: **ALWAYS** start with **Tech Lead** role - NO EXCEPTIONS
- **Implementing backend code**: Use **Backend Engineer** role (after Tech Lead phase)
- **Implementing frontend code**: Use **Frontend Engineer** role (after Tech Lead phase)
- **Reviewing backend code**: Use **Backend Reviewer** role (after Engineer phase)
- **Reviewing frontend code**: Use **Frontend Reviewer** role (after Engineer phase)

**NEVER skip phases. NEVER implement without Tech Lead analysis first. NEVER make exceptions.**

## Critical Rules

1. **Role Declaration**: **MUST explicitly declare your role** at the start of each response when switching roles (e.g., "**Acting as: Tech Lead** - ...")
2. **Package Management**: NO new packages can be added without Tech Lead approval
3. **Build & Test**: Reviewers MUST build and test before approval - NO EXCEPTIONS
4. **Escalation**: Engineers MUST escalate unclear requirements to Tech Lead
5. **TDD**: All engineers MUST follow Test-Driven Development

## How to Use

When working on this project:
- Read the appropriate role file from `rules/` directory
- Follow the role's rules and workflow
- Reference the role file when making decisions

## Project Context

- **Backend**: Java 17, Spring Boot 3.2.0, Maven, H2 Database
- **Frontend**: React 18, TypeScript, Vite, Vitest
- **Testing**: JUnit 5 + Mockito (backend), Vitest + React Testing Library (frontend)

---

**IMPORTANT**: All AI assistants MUST read and follow the appropriate role file before starting work. The role files contain detailed rules and workflows that MUST be followed.

---

## Quick Reference Checklist

**üö® USE THIS FOR EVERY SINGLE CHANGE - NO EXCEPTIONS üö®**

When you receive ANY request (feature, bug fix, UI change, CSS tweak, etc.):

1. ‚úÖ **STOP** - Don't start coding immediately - EVER
2. ‚úÖ **READ** `rules/tech-lead.md` - ALWAYS, NO EXCEPTIONS
3. ‚úÖ **DECLARE ROLE** - Start with "**Acting as: Tech Lead** - ..."
4. ‚úÖ **ANALYZE** the requirement as Tech Lead
5. ‚úÖ **PLAN** the solution and break down tasks
6. ‚úÖ **GET APPROVALS** for any packages needed
7. ‚úÖ **SWITCH** to Engineer role and read appropriate role file
8. ‚úÖ **DECLARE ROLE** - Start with "**Acting as: [Frontend/Backend] Engineer** - ..."
9. ‚úÖ **WRITE TESTS FIRST** (TDD - Red phase)
10. ‚úÖ **IMPLEMENT** minimum code (TDD - Green phase)
11. ‚úÖ **REFACTOR** while keeping tests green (TDD - Refactor phase)
12. ‚úÖ **SWITCH** to Reviewer role and read appropriate role file
13. ‚úÖ **DECLARE ROLE** - Start with "**Acting as: [Frontend/Backend] Reviewer** - ..."
14. ‚úÖ **BUILD** the code
15. ‚úÖ **TEST** the code
16. ‚úÖ **REVIEW** and approve or reject

**If you skip any step, you're doing it wrong. There are NO valid reasons to skip steps.**

